{"version":3,"sources":["../../../src/common/framework/params_utils.ts"],"names":["objectEquals","extractPublicParams","params","publicParams","k","Object","keys","startsWith","stringifyPublicParams","p","paramsEquals","JSON","stringify","x","y","xk","undefined","yk","paramsSupersets","sup","sub"],"mappings":";;;;AAAA,SAASA,YAAT,QAA6B,gBAA7B;AAUA,OAAO,SAASC,mBAAT,CAA6BC,MAA7B,EAA2D;AAChE,QAAMC,YAAuB,GAAG,EAAhC;;AACA,OAAK,MAAMC,CAAX,IAAgBC,MAAM,CAACC,IAAP,CAAYJ,MAAZ,CAAhB,EAAqC;AACnC,QAAI,CAACE,CAAC,CAACG,UAAF,CAAa,GAAb,CAAL,EAAwB;AACtBJ,MAAAA,YAAY,CAACC,CAAD,CAAZ,GAAkBF,MAAM,CAACE,CAAD,CAAxB;AACD;AACF;;AACD,SAAOD,YAAP;AACD;AAED,OAAO,SAASK,qBAAT,CAA+BC,CAA/B,EAA4D;AACjE,MAAIA,CAAC,KAAK,IAAN,IAAcC,YAAY,CAACD,CAAD,EAAI,EAAJ,CAA9B,EAAuC;AACrC,WAAO,EAAP;AACD;;AACD,SAAOE,IAAI,CAACC,SAAL,CAAeX,mBAAmB,CAACQ,CAAD,CAAlC,CAAP;AACD;AAED,OAAO,SAASC,YAAT,CAAsBG,CAAtB,EAA2CC,CAA3C,EAAyE;AAC9E,MAAID,CAAC,KAAKC,CAAV,EAAa;AACX,WAAO,IAAP;AACD;;AACD,MAAID,CAAC,KAAK,IAAV,EAAgB;AACdA,IAAAA,CAAC,GAAG,EAAJ;AACD;;AACD,MAAIC,CAAC,KAAK,IAAV,EAAgB;AACdA,IAAAA,CAAC,GAAG,EAAJ;AACD;;AAED,OAAK,MAAMC,EAAX,IAAiBV,MAAM,CAACC,IAAP,CAAYO,CAAZ,CAAjB,EAAiC;AAC/B,QAAIA,CAAC,CAACE,EAAD,CAAD,KAAUC,SAAV,IAAuB,EAAED,EAAE,IAAID,CAAR,CAA3B,EAAuC;AACrC,aAAO,KAAP;AACD;;AACD,QAAI,CAACd,YAAY,CAACa,CAAC,CAACE,EAAD,CAAF,EAAQD,CAAC,CAACC,EAAD,CAAT,CAAjB,EAAiC;AAC/B,aAAO,KAAP;AACD;AACF;;AAED,OAAK,MAAME,EAAX,IAAiBZ,MAAM,CAACC,IAAP,CAAYQ,CAAZ,CAAjB,EAAiC;AAC/B,QAAIA,CAAC,CAACG,EAAD,CAAD,KAAUD,SAAV,IAAuB,EAAEC,EAAE,IAAIJ,CAAR,CAA3B,EAAuC;AACrC,aAAO,KAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD;AAED,OAAO,SAASK,eAAT,CAAyBC,GAAzB,EAAgDC,GAAhD,EAAgF;AACrF,MAAIA,GAAG,KAAK,IAAZ,EAAkB;AAChB,WAAO,IAAP;AACD;;AACD,MAAID,GAAG,KAAK,IAAZ,EAAkB;AAChBA,IAAAA,GAAG,GAAG,EAAN;AACD;;AACD,OAAK,MAAMf,CAAX,IAAgBC,MAAM,CAACC,IAAP,CAAYc,GAAZ,CAAhB,EAAkC;AAChC,QAAI,EAAEhB,CAAC,IAAIe,GAAP,KAAeA,GAAG,CAACf,CAAD,CAAH,KAAWgB,GAAG,CAAChB,CAAD,CAAjC,EAAsC;AACpC,aAAO,KAAP;AACD;AACF;;AACD,SAAO,IAAP;AACD","sourcesContent":["import { objectEquals } from './util/util.js';\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nexport type ParamArgument = any;\nexport interface ParamSpec {\n  [k: string]: ParamArgument;\n}\nexport type ParamSpecIterable = Iterable<ParamSpec>;\nexport type ParamSpecIterator = IterableIterator<ParamSpec>;\n\nexport function extractPublicParams(params: ParamSpec): ParamSpec {\n  const publicParams: ParamSpec = {};\n  for (const k of Object.keys(params)) {\n    if (!k.startsWith('_')) {\n      publicParams[k] = params[k];\n    }\n  }\n  return publicParams;\n}\n\nexport function stringifyPublicParams(p: ParamSpec | null): string {\n  if (p === null || paramsEquals(p, {})) {\n    return '';\n  }\n  return JSON.stringify(extractPublicParams(p));\n}\n\nexport function paramsEquals(x: ParamSpec | null, y: ParamSpec | null): boolean {\n  if (x === y) {\n    return true;\n  }\n  if (x === null) {\n    x = {};\n  }\n  if (y === null) {\n    y = {};\n  }\n\n  for (const xk of Object.keys(x)) {\n    if (x[xk] !== undefined && !(xk in y)) {\n      return false;\n    }\n    if (!objectEquals(x[xk], y[xk])) {\n      return false;\n    }\n  }\n\n  for (const yk of Object.keys(y)) {\n    if (y[yk] !== undefined && !(yk in x)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function paramsSupersets(sup: ParamSpec | null, sub: ParamSpec | null): boolean {\n  if (sub === null) {\n    return true;\n  }\n  if (sup === null) {\n    sup = {};\n  }\n  for (const k of Object.keys(sub)) {\n    if (!(k in sup) || sup[k] !== sub[k]) {\n      return false;\n    }\n  }\n  return true;\n}\n"],"file":"params_utils.js"}